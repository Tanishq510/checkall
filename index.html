<!DOCTYPE html>
<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

</head>
<body>
<p> Master Checkbox</p>
<input type="checkbox" id="primary"> <br>
<input type="checkbox" class="secondary" value="1">
<input type="checkbox" class="secondary" value="2">
<input type="checkbox" class="secondary" value="3">
<input type="checkbox" class="secondary" value="4">
<input type="checkbox" class="secondary" value="5">
<input type="checkbox" class="secondary" value="6">
<script>
$(".secondary").on('change',function(){
		array = [];
		var checked = $('.secondary:checked');
        checked.each(function(){
         array.push($(this).val());
        })
       if(checked.length ==  $('.secondary').length){
       	$("#primary").prop('checked',true);
       }
       else{
       	$("#primary").prop('checked',false);
       }
        console.log(array);
        
})

	$("#primary").on('change',function(){
    var arr = [];
    		$(".secondary").prop('checked',true);
            $(".secondary").each(function(){
                arr.push($(this).val());
            })
       if($("#primary").prop('checked') == false){
       		$(".secondary").prop('checked',false);
            arr = [];
       }
       console.log(arr);
    })
</script>
</body>
</html>
